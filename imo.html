<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kreditberechnung</title>
</head>
<body>
    <h1>Kreditberechnung für Immobilien</h1>
    <form id="kreditForm">
        <label for="mieteinnahme">Mieteinnahme pro Monat:</label>
        <input type="number" id="mieteinnahme" required><br>

        <label for="kaufpreis">Kaufpreis der Immobilie:</label>
        <input type="number" id="kaufpreis" required><br>

        <label for="kaufpreisGrundBoden">Kaufpreisanteil Grund und Boden:</label>
        <input type="number" id="kaufpreisGrundBoden" value="0.02" readonly><br>

        <label for="maklerprovision">Maklerprovision (%):</label>
        <input type="number" id="maklerprovision" required><br>

        <label for="bundesland">Bundesland:</label>
        <select id="bundesland">
             <option value="5.0">Baden-Württemberg (5,0%)</option>
            <option value="3.5">Bayern (3,5%)</option>
            <option value="6.0">Berlin (6,0%)</option>
            <option value="6.5">Brandenburg (6,5%)</option>
            <option value="5.0">Bremen (5,0%)</option>
            <option value="4.5">Hamburg (4,5%)</option>
            <option value="6.0">Hessen (6,0%)</option>
            <option value="6.0">Mecklenburg-Vorpommern (6,0%)</option>
            <option value="5.0">Niedersachsen (5,0%)</option>
            <option value="6.5">Nordrhein-Westfalen (6,5%)</option>
            <option value="5.0">Rheinland-Pfalz (5,0%)</option>
            <option value="6.5">Saarland (6,5%)</option>
            <option value="3.5">Sachsen (3,5%)</option>
            <option value="5.0">Sachsen-Anhalt (5,0%)</option>
            <option value="6.5">Schleswig-Holstein (6,5%)</option>
            <option value="6.5">Thüringen (6,5%)</option>
        </select><br><br>
        </select><br>

        <label for="anzahlung">Anzahlung:</label>
        <input type="number" id="anzahlung" required><br>

        <label for="zinsen">Zinsen (%):</label>
        <input type="number" id="zinsen" required><br>

        <label for="tilgung">Tilgung (%):</label>
        <input type="number" id="tilgung" required><br>

        <label for="wohnungsnebenkosten">Wohnungsnebenkosten pro Monat:</label>
        <input type="number" id="wohnungsnebenkosten" required><br>

        <label for="monatlicheRaten">Monatliche Raten:</label>
        <input type="number" id="monatlicheRaten" required><br>

        <label for="effektiverJahreszins">Effektiver Jahreszins (%):</label>
        <input type="number" id="effektiverJahreszins" placeholder="Optional"><br>

        <input type="submit" value="Berechnen">
    </form>

    <h2>Ergebnisse:</h2>
    <div id="ergebnisse"></div>

    <script>
        document.getElementById("kreditForm").addEventListener("submit", function(event) {
            event.preventDefault();

            // Eingabewerte
            const mieteinnahme = parseFloat(document.getElementById("mieteinnahme").value);
            const kaufpreis = parseFloat(document.getElementById("kaufpreis").value);
            const maklerprovisionProz = parseFloat(document.getElementById("maklerprovision").value) / 100;
            const anzahlung = parseFloat(document.getElementById("anzahlung").value);
            const zinsen = parseFloat(document.getElementById("zinsen").value) / 100;
            const tilgung = parseFloat(document.getElementById("tilgung").value) / 100;
            const wohnungsnebenkosten = parseFloat(document.getElementById("wohnungsnebenkosten").value);
            const monatlicheRaten = parseFloat(document.getElementById("monatlicheRaten").value);
            const effektiverJahreszins = parseFloat(document.getElementById("effektiverJahreszins").value) / 100 || null;

            // Berechnungen
            const kaufpreisAnteilGrundBoden = kaufpreis * 0.02;
            const maklerprovision = kaufpreis * maklerprovisionProz;
            const kaufnebenkosten = maklerprovision; // Füge hier weitere Nebenkosten hinzu

            const kreditsumme = kaufpreis + kaufnebenkosten - anzahlung;

            // Bestimme, welcher Zinssatz verwendet wird
            const verwendeterZins = effektiverJahreszins !== null ? effektiverJahreszins : zinsen;

            // Monatliche Rate berechnen
            const monatlicheRate = (kreditsumme * (verwendeterZins + tilgung)) / 12;

            // Wohnungsnebenkosten pro Jahr
            const wohnungsnebenkostenJahr = wohnungsnebenkosten * 12;

            // Steuerlicher Vorteil berechnen
            const steuerlicherVorteil = (mieteinnahme * 12) - kaufpreisAnteilGrundBoden - (verwendeterZins * kreditsumme) - wohnungsnebenkostenJahr;
            const monatlicherEigenaufwand = monatlicheRaten - (mieteinnahme + steuerlicherVorteil / 12);

            // Ergebnisse anzeigen
            document.getElementById("ergebnisse").innerHTML = `
                <p>Kaufpreisanteil Grund und Boden: ${kaufpreisAnteilGrundBoden.toFixed(2)} €</p>
                <p>Maklerprovision: ${maklerprovision.toFixed(2)} €</p>
                <p>Kaufnebenkosten: ${kaufnebenkosten.toFixed(2)} €</p>
                <p>Kreditsumme: ${kreditsumme.toFixed(2)} €</p>
                <p>Monatliche Rate: ${monatlicheRate.toFixed(2)} €</p>
                <p>Steuerlicher Vorteil: ${steuerlicherVorteil.toFixed(2)} €</p>
                <p>Monatlicher Eigenaufwand: ${monatlicherEigenaufwand.toFixed(2)} €</p>
            `;
        });
    </script>
</body>
</html>
